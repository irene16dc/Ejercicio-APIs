<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Practica 3(Api)</title> 
    <link rel="stylesheet" href="./fontawesome-free-6.1.1-web/css/all.css">
    <style>
      .botones {
        padding-left: 44%;
        padding-top: 1%;
      }
      video {
          margin-left: 33%;
      }
      button {
        margin: 8px;
      }
    </style>
  </head>
  <body> 
   
    <input type="file" id="files" name="files[]" multiple />
    <output id="list"></output>

    <script>
      
      function handleFileSelect(evt) {  
        document.getElementById("list").innerHTML = "";
        var files = evt.target.files; 
        
        var nombreArchivo=evt.target.files[0].name; // nombre del archivo seleccionado
        var ext = nombreArchivo.split('.').pop();// muestra despues del punto

        if (ext =='mp4') { // comprueba si el archivo es mp4
          alert("La operaci√≥n puede demorarse unos minutos"); 

          var play = `<button onclick="document.getElementById('video').play();"><i class="fa-solid fa-play"></i></button>`;
          var pause= ` <button onclick="document.getElementById('video').pause();"><i class="fa-solid fa-pause"></i></button> `;
          var subirV0lumen=`<button onclick="document.getElementById('video').volume += 0.1;"><i class="fa-solid fa-volume-high"></i></button>`;
          var bajarVolumen=`<button onclick="document.getElementById('video').volume -= 0.1;"><i class="fa-solid fa-volume-low"> </i></button> `;
          var botones="<div class='botones'>"+play+' '+pause+''+bajarVolumen+''+subirV0lumen+ "</div>"

          var video ='<br>  <video id="video" src="'+nombreArchivo+'" width="620"></video> <br> '+botones+ '<br> <br> ';
          document.getElementById("list").innerHTML = video;
          
        }else{
          alert("El fichero seleccionado no es correcto");
        }
          
      }

      document.getElementById("files").addEventListener("change", handleFileSelect, false);

    </script>
  </body>
</html>
